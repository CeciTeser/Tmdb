(this.webpackJsonptmdb=this.webpackJsonptmdb||[]).push([[0],{231:function(e,t,a){},233:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(32),c=a(95),s=a(3),i="usersInit",o="usersOk",l="usersError",u="currentUserInit",d="currentUserOk",j="currentUserError",b="itemsInit",m="itemsOk",p="itemsError",h="itemsListInit",f="itemsListOk",O="itemsListError",x="itemByIdInit",v="itemByIdOk",g="itemByIdError",y="videoInit",N="videoOk",w="videoError",k={data:[],loading:!1},E={email:"",sessionToken:"",password:"",idDB:"",role:"",watched:"",loading:!1},S={data:[],loading:!1,error:""},I={items:[],loading:!1,error:""},L={data:[],loading:!1,error:""},C={data:[],loading:!1,error:""},B="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.c,T=Object(r.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case o:return{data:t.payload,loading:!1};case l:return{data:{errorCode:400},loading:!1};default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case d:return{email:t.payload.email,sessionToken:t.payload.sessionToken,password:t.payload.password,idDB:t.payload.idDB,role:t.payload.role,watched:t.payload.watched,loading:!1};case j:return{data:{errorCode:400},loading:!1};default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case m:return Object(s.a)(Object(s.a)({},e),{},{data:t.payload,loading:!1});case p:return Object(s.a)(Object(s.a)({},e),{},{error:{errorCode:400},loading:!1});default:return e}},itemsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case f:return{items:t.payload,loading:!1};case O:return{error:{errorCode:400},loading:!1};default:return e}},itemById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case v:return Object(s.a)(Object(s.a)({},e),{},{data:t.payload,loading:!1});case g:return Object(s.a)(Object(s.a)({},e),{},{error:{errorCode:400},loading:!1});default:return e}},video:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case N:return Object(s.a)(Object(s.a)({},e),{},{data:t.payload,loading:!1});case w:return Object(s.a)(Object(s.a)({},e),{},{error:{errorCode:400},loading:!1});default:return e}}}),U=Object(r.d)(T,B(Object(r.a)(c.a))),D=a(9),R=a(7),_=(a(60),a(2)),A=a.n(_),F=a(4),M=a(18),q=a(17),P="Mandatory field",W="Incorrect format",H={EIGHT:"Must be at least 8 characters"},Y=q.a().shape({email:q.b().email(W).required(P),password:q.b().required(P).min(8,H.EIGHT).matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/)}),G=a(45),z={email:"",password:""},V=a(8),J=a(1),X=a.n(J),$=a(58),K=a.n($),Q=K.a.create({baseURL:"https://tmdb3-48b40-default-rtdb.firebaseio.com/"}),Z=K.a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"91b8a203ba7436e309ba32657ae32bfd"}}),ee=function(){return{type:u,payload:[]}},te=function(e){return{type:d,payload:e}},ae=function(e){return{type:j,error:{message:e}}},ne=function(e,t){return function(){var a=Object(F.a)(A.a.mark((function a(n){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ee()),a.prev=1,a.next=4,Q.patch("/users/".concat(e,".json"),t);case 4:return a.next=6,Q.get("/users/".concat(e,".json"));case 6:r=a.sent,n(te(r.data)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n(ae(a.t0));case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},re=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("/users.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=[];for(var a in e)t.push(Object(s.a)(Object(s.a)({},e[a]),{},{idDB:a}));return t},se=function(){var e=Object(n.b)(),t=Object(J.useState)(localStorage.getItem("token")||void 0),a=Object(V.a)(t,2),r=a[0],c=a[1],s=Object(J.useState)(),i=Object(V.a)(s,2),o=i[0],l=i[1],u=Object(n.c)((function(e){return e.currentUser})),d=Object(R.f)().push;Object(J.useEffect)((function(){r&&localStorage.setItem("token",r)}),[r]),Object(J.useEffect)((function(){m()}),[]);var j=function(){var e=Object(F.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Math.random().toString(36).substr(2),e.prev=1,e.next=4,Q.patch("/users/".concat(t.idDB,".json"),{sessionToken:a});case 4:return e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var t=Object(F.a)(A.a.mark((function t(a,n){var r,s,i,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.get("/users.json");case 3:if(r=t.sent,s=ce(r.data),!(i=s.find((function(e){return e.email===a&&e.password===n})))){t.next=15;break}return t.next=9,j(i);case 9:o=t.sent,localStorage.setItem("role",i.role),localStorage.setItem("userid",i.idDB),o?(c(o),e(te(i))):l(!1),t.next=16;break;case 15:throw new Error("The user doesn`t exist");case 16:t.next=20;break;case 18:t.prev=18,t.t0=t.catch(0);case 20:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,a){return t.apply(this,arguments)}}(),m=function(){var t=Object(F.a)(A.a.mark((function t(){var a,n,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.get("/users.json");case 3:n=t.sent,c=ce(n.data),r&&(a=c.find((function(e){return e.sessionToken===r}))),a?(e(te(a)),l(!0)):l(!1),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new Error("The user doesn`t exist");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:d("/login"),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error. Try again");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return{login:b,loginWithToken:m,logout:function(){localStorage.removeItem("token"),e(ae(void 0)),d("/login")},signUp:p,hasUserLoggedIn:o,currentUser:u}},ie=function(e){return function(){var t=Object(F.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(oe()),t.prev=1,t.next=4,Q.post("/itemsList.json",e);case 4:return t.next=6,Q.get("/itemsList.json");case 6:n=t.sent,a(le(ce(n.data))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(ue(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},oe=function(){return{type:h,payload:[]}},le=function(e){return{type:f,payload:e}},ue=function(e){return{type:O,error:{message:e}}},de=function(e){return function(){var t=Object(F.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(oe()),t.prev=1,t.next=4,Q.delete("/itemsList/".concat(e,".json"));case 4:return t.next=6,Q.get("/itemsList.json");case 6:n=t.sent,a(le(ce(n.data))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(ue(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},je=function(){return{type:b,payload:[]}},be=function(e){return{type:m,payload:e}},me=function(e){return{type:p,error:{message:e}}},pe=function(){var e=Object(J.useState)(1),t=Object(V.a)(e,2),a=t[0],r=t[1],c=Object(J.useState)(""),i=Object(V.a)(c,2),o=i[0],l=i[1],u=Object(n.b)(),d=Object(n.c)((function(e){return e.items})).data,j=Object(n.c)((function(e){return e.itemsList})),b=function(){var e=Object(F.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.media_type?t:Object(s.a)(Object(s.a)({},t),{},{media_type:"movie"}),e.next=3,u(ie(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=null===(a=j.items)||void 0===a?void 0:a.find((function(e){return e.id===t.id})),e.next=4,u(de(null===n||void 0===n?void 0:n.idDB));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(F.a)(A.a.mark((function e(t,a){var n,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.watched?t.watched:[],!t||(null===(n=t.watched)||void 0===n?void 0:n.includes(a.id))){e.next=6;break}return r.push(a.id),c=Object(s.a)(Object(s.a)({},t),{},{watched:r}),e.next=6,u(ne(null===t||void 0===t?void 0:t.idDB,c));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(F.a)(A.a.mark((function e(t,a){var n,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.watched?t.watched:[],!(null===(n=t.watched)||void 0===n?void 0:n.includes(a.id))){e.next=6;break}return r.splice(r.indexOf(a.id),1),c=Object(s.a)(Object(s.a)({},t),{},{watched:r}),e.next=6,u(ne(null===t||void 0===t?void 0:t.idDB,c));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(J.useEffect)((function(){u(function(){var e=Object(F.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(oe()),e.prev=1,e.next=4,Q.get("/itemsList.json");case 4:a=e.sent,t(le(ce(a.data))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(ue(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[u]),Object(J.useEffect)((function(){u(function(e){var t=e.page,a=e.search;return function(){var e=Object(F.a)(A.a.mark((function e(n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(je()),e.prev=1,!a){e.next=9;break}return e.next=5,Z.get("/search/multi?query=".concat(a,"&page=").concat(t));case 5:r=e.sent,n(be(r.data)),e.next=13;break;case 9:return e.next=11,Z.get("/movie/top_rated?page=".concat(t));case 11:r=e.sent,n(be(r.data));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n(me(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()}({page:a,search:o}))}),[u,a,o]),{data:d,page:a,setPage:r,search:o,setSearch:l,itemsListFB:j,addItems:b,deleteItems:m,watchedItems:p,notWatchedItems:h}},he=function(){return{type:x,payload:[]}},fe=function(e){return{type:v,payload:e}},Oe=function(e){return{type:g,error:{message:e}}},xe=function(){return{type:y,payload:[]}},ve=function(e){return{type:N,payload:e}},ge=function(e){return{type:w,error:{message:e}}},ye=function(){var e=Object(n.c)((function(e){return e.itemById})).data,t=Object(n.c)((function(e){return e.video})),a=Object(R.g)().idItem,r=Object(n.b)();return Object(J.useEffect)((function(){var e;r((e=a,function(){var t=Object(F.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(he()),t.prev=1,t.next=4,Q.get("/itemsList/".concat(e,".json"));case 4:n=t.sent,a(fe(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(Oe(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,a]),Object(J.useEffect)((function(){var t;r((t=e.id,function(){var e=Object(F.a)(A.a.mark((function e(a){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(xe()),e.prev=1,e.next=4,Z.get("/movie/".concat(t,"/videos"));case 4:n=e.sent,a(ve(n.data.results)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(ge(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[r,e.id]),{data:e,videoList:t,idItem:a}},Ne=a.p+"static/media/LogoBlanco.6b65f29a.svg",we=(a(231),a(0)),ke=function(){var e,t,a=se(),n=a.login,r=(a.currentUser,Object(R.f)().push),c=Object(M.d)({resolver:Object(G.a)(Y),defaultValues:z}),i=c.register,o=c.formState.errors,l=c.handleSubmit,u=function(){var e=Object(F.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t.email,t.password);case 3:a=localStorage.getItem("userid"),r("/user:".concat(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(we.jsxs)("form",{action:"",className:"login-form d-flex flex-column align-items-center",onSubmit:l(u),children:[Object(we.jsx)("img",{src:Ne,alt:"logoblanco"}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center ",children:[Object(we.jsx)("label",{htmlFor:"email",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"email",type:"email",className:"text-white",placeholder:"ENTER YOUR EMAIL",required:!0},i("email"))),null===(e=o.email)||void 0===e?void 0:e.message]}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center ",children:[Object(we.jsx)("label",{htmlFor:"password",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"password",type:"password",className:"text-white",placeholder:"ENTER YOUR PASSWORD",required:!0},i("password"))),null===(t=o.password)||void 0===t?void 0:t.message]}),Object(we.jsx)("button",{type:"submit",children:"LOGIN"}),Object(we.jsxs)("p",{children:["NO ACCOUNT? ",Object(we.jsx)(D.b,{to:"/signup",children:"SIGN UP!"})]})]})},Ee=q.a().shape({email:q.b().email(W).required(P),password:q.b().required(P).min(8,H.EIGHT).matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/),name:q.b().required(P),lastName:q.b(),birthday:q.b()}),Se={email:"",password:"",name:"",lastName:"",birthday:"",role:"user"},Ie=(a(233),function(){var e,t,a,n,r,c=Object(M.d)({resolver:Object(G.a)(Ee),defaultValues:Se}),i=c.register,o=c.formState.errors,l=c.handleSubmit,u=Object(R.f)().push,d=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:u("/login"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(we.jsxs)("form",{action:"",className:"signup-form d-flex flex-column align-items-center",onSubmit:l(d),children:[Object(we.jsx)("img",{src:Ne,alt:"logoblanco"}),Object(we.jsx)("h2",{children:"Sign Up"}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center ",children:[Object(we.jsx)("label",{htmlFor:"email",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"email",type:"email",className:"text-white",placeholder:"ENTER YOUR EMAIL",required:!0},i("email"))),null===(e=o.email)||void 0===e?void 0:e.message]}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center ",children:[Object(we.jsx)("label",{htmlFor:"password",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"password",type:"password",className:"text-white",placeholder:"ENTER YOUR PASSWORD",required:!0},i("password"))),null===(t=o.password)||void 0===t?void 0:t.message]}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center ",children:[Object(we.jsx)("label",{htmlFor:"name",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"name",type:"text",className:"text-white",placeholder:"ENTER YOUR NAME",required:!0},i("name"))),null===(a=o.name)||void 0===a?void 0:a.message]}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center ",children:[Object(we.jsx)("label",{htmlFor:"lastname",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"lastname",type:"text",className:"text-white",placeholder:"ENTER YOUR LASTNAME",required:!0},i("lastName"))),null===(n=o.lastName)||void 0===n?void 0:n.message]}),Object(we.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center text-white ",children:[Object(we.jsx)("label",{htmlFor:"birthday",className:"form-label"}),Object(we.jsx)("input",Object(s.a)({id:"birthday",type:"date",className:"text-white",placeholder:"ENTER YOUR BIRTHDAY",required:!0},i("birthday"))),null===(r=o.birthday)||void 0===r?void 0:r.message]}),Object(we.jsx)("button",{type:"submit",children:"SIGN UP"})]})}),Le=a(100),Ce=a.n(Le),Be=function(){var e=Object(J.useState)(),t=Object(V.a)(e,1)[0];return Object(we.jsx)("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(we.jsx)(Ce.a,{color:"#555",loading:t,size:25})})},Te=a.p+"static/media/LogoColor.dd4b4c92.svg",Ue=(a(239),function(){return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("img",{src:Te,alt:"logo"})})}),De=(a(240),function(){var e=se(),t=e.logout,a=e.currentUser,n=localStorage.getItem("role");return Object(we.jsx)("nav",{className:"navbar navbar-light navbar-expand-lg navbar-background sticky-top mt-5 mb-5",children:Object(we.jsxs)("div",{className:"container-fluid",children:[Object(we.jsxs)(D.b,{className:"navbar-brand ps-3",to:"/",children:[" ",Object(we.jsx)(Ue,{})," "]}),Object(we.jsx)("button",{className:"navbar-toggler ",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(we.jsx)("span",{className:"navbar-toggler-icon"})}),Object(we.jsx)("div",{className:"collapse navbar-collapse flex-grow-0 me-4",id:"navbarSupportedContent",children:Object(we.jsxs)("ul",{className:"navbar-nav mb-2 mb-lg-0",children:[Object(we.jsx)("li",{className:"nav-item",children:Object(we.jsx)(D.b,{className:"nav-link",to:"/dashboard/user:".concat(a.idDB),children:"HOME"})}),Object(we.jsx)("li",{className:"nav-item",children:Object(we.jsx)(D.b,{className:"nav-link",to:"/movies/user:".concat(a.idDB),children:"MOVIES"})}),Object(we.jsx)("li",{className:"nav-item",children:Object(we.jsx)(D.b,{className:"nav-link",to:"/tv/user:".concat(a.idDB),children:"SERIES"})}),Object(we.jsx)("li",{className:"nav-item",children:"admin"===n&&Object(we.jsx)(D.b,{className:"nav-link",to:"/users",children:"USERS"})}),Object(we.jsx)("li",{className:"nav-item",children:"admin"===n&&Object(we.jsx)(D.b,{className:"nav-link ",to:"/admin",children:"ADMIN"})}),Object(we.jsx)("button",{onClick:t,children:"LOGOUT"})]})})]})})}),Re=function(e){var t=e.hideNav;return Object(we.jsx)("header",{className:"",children:!t&&Object(we.jsx)(De,{})})},_e=(a(241),function(e){var t=e.itemExists,a=e.itemWatched,n=e.isAdmin,r=e.handleClick;return Object(we.jsx)("div",{children:n?Object(we.jsx)("button",{className:"toggle--button "+(t?"toggle--delete":"toggle--add"),onClick:function(){return r(t?"delete":"add")},children:t?"DELETE":"ADD"}):Object(we.jsx)("button",{className:"toggle--button "+(a?"toggle--watched":"toggle--unwatched"),onClick:function(){return r(a?"watched":"unwatched")},children:a?"WATCHED":"NOT WATCHED"})})}),Ae=function(e){var t=e.children,a=e.className;return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("main",{className:a,children:t})})},Fe=function(e){var t=e.children,a=e.page,n=e.hideNav;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)(Re,{hideNav:n}),Object(we.jsx)(Ae,{className:a,children:t})]})},Me=function(){return{type:i,payload:[]}},qe=function(e){return{type:o,payload:e}},Pe=function(e){return{type:l,error:{message:e}}},We=a(273),He=a(274),Ye=(a(242),function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.users})).data;return Object(J.useEffect)((function(){e(function(){var e=Object(F.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Me()),e.prev=1,e.next=4,Q.get("/users.json");case 4:a=e.sent,t(qe(ce(a.data))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Pe(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(we.jsx)(We.a,{children:Object(we.jsxs)(He.a,{className:"table table-style",children:[Object(we.jsx)("thead",{children:Object(we.jsxs)("tr",{children:[Object(we.jsx)("th",{children:"USER NAME"}),Object(we.jsx)("th",{children:"USER LASTNAME"}),Object(we.jsx)("th",{children:"USER EMAIL"}),Object(we.jsx)("th",{children:"USER BIRTHDAY"})]})}),Object(we.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(t){return Object(we.jsxs)("tr",{className:"col-md-3 mb-5",children:[Object(we.jsx)("td",{children:t.name}),Object(we.jsxs)("td",{children:[" ",t.lastName]}),Object(we.jsx)("td",{children:t.email}),Object(we.jsx)("td",{children:t.birthday}),Object(we.jsx)("td",{children:Object(we.jsx)("button",{onClick:function(){return e((a=t.idDB,function(){var e=Object(F.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Me()),e.prev=1,e.next=4,Q.delete("/users/".concat(a,".json"));case 4:return e.next=6,Q.get("/users.json");case 6:n=e.sent,t(qe(ce(n.data))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(Pe(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()));var a},children:" DELETE "})})]},t.idDB)}))})]})})}),Ge=(a(243),function(e){var t=e.stars/2.09/5*100,a=Math.round(t);return Object(we.jsx)("div",{className:"stars-gray",children:Object(we.jsx)("div",{className:"stars-yellow",style:{width:a+"px"}})})}),ze=(a(244),function(e){var t=e.items,a=pe(),n=a.itemsListFB,r=a.addItems,c=a.deleteItems,s=a.watchedItems,i=a.notWatchedItems,o=se().currentUser,l=Object(R.f)().push,u=function(e){var t;return!!(null===(t=n.items)||void 0===t?void 0:t.find((function(t){return t.id===e})))},d=function(e){var t;return!!(null===(t=o.watched)||void 0===t?void 0:t.includes(e))};return Object(we.jsx)("div",{className:"container",children:Object(we.jsx)("div",{className:"row",children:t&&(null===t||void 0===t?void 0:t.map((function(e){var t=e.poster_path?"http://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://i.stack.imgur.com/6M513.png";return Object(we.jsxs)("div",{className:"col-md-3 mb-5 mt-5 d-flex flex-column justify-content-center align-items-center",children:[Object(we.jsx)("div",{className:"card each-card",onClick:function(){return l("/detail/".concat(e.idDB))},children:Object(we.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center align-items-center",children:[Object(we.jsx)("img",{src:t,className:"img-fluid",alt:e.title}),Object(we.jsx)("h5",{className:"card-title mt-3",children:e.title}),Object(we.jsx)("div",{className:"mt-3",children:e.vote_average}),Object(we.jsx)(Ge,{stars:e.vote_average})]})},e.id),Object(we.jsx)(_e,{itemExists:u(e.id),itemWatched:d(e.id),handleClick:function(t){return function(e,t){switch(e){case"add":r(t);break;case"delete":c(t);break;case"watched":i(o,t);break;case"unwatched":s(o,t);break;default:return null}}(t,e)},isAdmin:"admin"===o.role})]})})))})})}),Ve=["/login","/sign-up","/contact"],Je=function(e){return function(){var t=Object(R.f)(),a=t.push,n=t.location,r=se(),c=r.hasUserLoggedIn,s=r.currentUser;return void 0===c?Object(we.jsx)(Be,{}):(c&&Ve.includes(n.pathname)&&a("/user:".concat(s.idDB)),!1!==c||Ve.includes(n.pathname)||a("/login"),Object(we.jsx)(e,{}))}},Xe=Je((function(){var e=pe().itemsListFB;return Object(we.jsx)(Fe,{page:"Dashboard",children:Object(we.jsx)(ze,{items:e.items})})})),$e=function(){return Object(we.jsx)(Fe,{page:"Login",hideNav:!0,children:Object(we.jsx)("div",{className:"login-page",children:Object(we.jsx)(ke,{})})})},Ke=function(){return Object(we.jsx)(Fe,{page:"Signup",hideNav:!0,children:Object(we.jsx)(Ie,{})})},Qe=Je((function(){return Object(we.jsx)(Fe,{page:"Users",children:Object(we.jsx)(Ye,{})})})),Ze=Je((function(){var e=pe().itemsListFB.items.filter((function(e){return"tv"===e.media_type}));return Object(we.jsx)(Fe,{page:"Series",children:Object(we.jsx)(ze,{items:e})})})),et=a(101),tt=a.n(et),at=(a(245),function(){var e=pe(),t=e.data,a=e.setPage;return Object(we.jsx)("div",{className:"container mt-5 d-flex align-items-center justify-content-center react-paginate",children:Object(we.jsx)(tt.a,{previousLabel:"previous",nextLabel:"next",pageCount:t.total_pages,marginPagesDisplayed:1,onPageChange:function(e){var t=e.selected+1;a(t)},containerClassName:"pagination pagination-sm justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLinkClassName:"page-link"})})}),nt=(a(246),function(){var e=pe().setSearch;return Object(we.jsx)("div",{className:"container-fluid d-flex align-items-center justify-content-center",children:Object(we.jsxs)("div",{className:"mb-5 mt-5 d-flex align-items-center search-style",children:[Object(we.jsx)("p",{className:"text-black search-text me-4",children:"SEARCH"}),Object(we.jsx)("input",{type:"text",className:"form-control",onChange:function(t){e(t.target.value)}}),Object(we.jsx)("span",{className:"ms-4",children:Object(we.jsx)("i",{className:"fab fa-searchengin"})})]})})}),rt=Je((function(){var e=pe().data;return Object(we.jsxs)(Fe,{page:"Admin",children:[Object(we.jsx)(nt,{}),Object(we.jsx)(ze,{items:e.results}),Object(we.jsx)(at,{})]})})),ct=Je((function(){var e=pe().itemsListFB.items.filter((function(e){return"movie"===e.media_type}));return Object(we.jsx)(Fe,{page:"movies",children:Object(we.jsx)(ze,{items:e})})})),st=(a(247),function(e){var t,a=e.items,n=Object(R.f)().goBack,r=Object(R.f)().push,c=ye(),s=c.data,i=c.videoList;return Object(we.jsxs)("div",{className:"container",children:[Object(we.jsx)("section",{className:"card mb-5",children:Object(we.jsxs)("div",{className:"row",children:[Object(we.jsx)("div",{className:"col-md-4",children:Object(we.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(s.poster_path),className:"img-fluid rounded-start",alt:"PosterPath"})}),Object(we.jsx)("div",{className:"col-md-8 d-flex",children:Object(we.jsxs)("div",{className:"card-body",children:[Object(we.jsx)("h5",{className:"card-title",children:Object(we.jsx)("strong",{children:s.title})}),Object(we.jsx)("p",{className:"card-text",children:s.original_title}),Object(we.jsx)("div",{className:"vote",children:s.vote_average}),Object(we.jsx)(Ge,{stars:s.vote_average}),Object(we.jsx)("p",{className:"card-text",children:s.overview}),Object(we.jsxs)("p",{className:"card-text",children:[" ",Object(we.jsx)("strong",{children:"Release date:"})," ",s.release_date]}),Object(we.jsxs)("p",{className:"card-text",children:[" ",Object(we.jsx)("strong",{children:"Original language:"})," ",s.original_language]}),Object(we.jsxs)("section",{className:"pt-5 row",children:[Object(we.jsx)("h3",{children:"Trailers"}),null===(t=i.data)||void 0===t?void 0:t.map((function(e){return Object(we.jsx)("div",{className:"col-md-6 mb-3",children:Object(we.jsx)("iframe",{title:e.name,width:"300",height:"200",src:"https://www.youtube.com/embed/".concat(e.key),allowFullScreen:!0})})}))]})]})})]})}),Object(we.jsx)("hr",{}),Object(we.jsxs)("button",{className:"goback-btn my-5",onClick:n,children:[" ",Object(we.jsx)("i",{className:"fas fa-chevron-left pe-2"}),"GO BACK"]}),Object(we.jsx)("h2",{className:"my-4",children:"ALSO..."}),Object(we.jsx)("section",{className:"row",children:null===a||void 0===a?void 0:a.map((function(e){return Object(we.jsx)("div",{className:"col-md-3 mb-5",children:Object(we.jsx)("div",{className:"card each-card",onClick:function(){return r("/detail/".concat(e.idDB))},children:Object(we.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center align-items-center",children:[Object(we.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(e.poster_path),className:"img-fluid",alt:e.title}),Object(we.jsx)("h5",{className:"card-title mt-3",children:e.title}),Object(we.jsx)("div",{className:"mt-3",children:e.vote_average}),Object(we.jsx)(Ge,{stars:e.vote_average})]})},e.id)})}))})]})}),it=Je((function(){var e=pe().itemsListFB;return Object(we.jsx)(Fe,{page:"DetailCard",children:Object(we.jsx)(st,{items:e.items})})}));var ot=function(){return Object(we.jsx)(n.a,{store:U,children:Object(we.jsx)(D.a,{children:Object(we.jsxs)(R.c,{children:[Object(we.jsx)(R.a,{path:"/tv",component:Ze}),Object(we.jsx)(R.a,{path:"/movies",component:ct}),Object(we.jsx)(R.a,{path:"/admin",component:rt}),Object(we.jsx)(R.a,{path:"/users",component:Qe}),Object(we.jsx)(R.a,{path:"/detail/:idItem",component:it}),Object(we.jsx)(R.a,{path:"/login",component:$e}),Object(we.jsx)(R.a,{path:"/signup",component:Ke}),Object(we.jsx)(R.a,{path:"/",component:Xe})]})})})},lt=a(41),ut=a.n(lt);a(248);ut.a.render(Object(we.jsx)(X.a.StrictMode,{children:Object(we.jsx)(ot,{})}),document.getElementById("root"))}},[[270,1,2]]]);
//# sourceMappingURL=main.e20852c1.chunk.js.map